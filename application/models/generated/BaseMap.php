<?php

/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
abstract class BaseMap extends Doctrine_Record
{
  public function setTableDefinition()
  {
    $this->setTableName('map');
    $this->hasColumn('id', 'integer', 3, array('type' => 'integer', 'unsigned' => '1', 'primary' => true, 'autoincrement' => true, 'length' => '3'));
    $this->hasColumn('name', 'string', 40, array('type' => 'string', 'default' => '', 'notnull' => true, 'length' => '40'));
    $this->hasColumn('file', 'string', 64, array('type' => 'string', 'default' => '', 'notnull' => true, 'length' => '64'));
    $this->hasColumn('mapper_id', 'integer', 3, array('type' => 'integer', 'unsigned' => '1', 'length' => '3'));
    $this->hasColumn('freestyle', 'enum', 5, array('type' => 'enum', 'values' => array(0 => 'true', 1 => 'false'), 'default' => 'false', 'notnull' => true, 'length' => '5'));
    $this->hasColumn('status', 'enum', 8, array('type' => 'enum', 'values' => array(0 => 'enabled', 1 => 'disabled', 2 => 'new', 3 => 'true', 4 => 'false'), 'default' => 'new', 'notnull' => true, 'length' => '8'));
    $this->hasColumn('disabled', 'enum', 5, array('type' => 'enum', 'values' => array(0 => 'true', 1 => 'false'), 'default' => 'false', 'notnull' => true, 'length' => '5'));
    $this->hasColumn('races', 'integer', 3, array('type' => 'integer', 'unsigned' => '1', 'default' => '', 'notnull' => true, 'length' => '3'));
    $this->hasColumn('playtime', 'integer', 8, array('type' => 'integer', 'unsigned' => '1', 'default' => '', 'notnull' => true, 'length' => '8'));
    $this->hasColumn('rating', 'float', 2147483647, array('type' => 'float', 'unsigned' => '1', 'default' => '', 'notnull' => true, 'length' => '2147483647'));
    $this->hasColumn('ratings', 'integer', 3, array('type' => 'integer', 'unsigned' => '1', 'default' => '', 'notnull' => true, 'length' => '3'));
    $this->hasColumn('downloads', 'integer', 3, array('type' => 'integer', 'unsigned' => '1', 'default' => '', 'notnull' => true, 'length' => '3'));
    $this->hasColumn('force_recompution', 'enum', 5, array('type' => 'enum', 'values' => array(0 => 'true', 1 => 'false'), 'default' => 'false', 'notnull' => true, 'length' => '5'));
    $this->hasColumn('created', 'timestamp', 25, array('type' => 'timestamp', 'notnull' => true, 'length' => '25'));
    $this->hasColumn('longname', 'string', 64, array('type' => 'string', 'length' => '64'));
    $this->hasColumn('weapons', 'string', 10, array('type' => 'string', 'default' => 0, 'length' => '10'));
    $this->hasColumn('oneliner', 'string', 255, array('type' => 'string', 'length' => '255'));
  }

  public function setUp()
  {
    $this->hasMany('MapItem as Items', array('local' => 'id',
                                             'foreign' => 'map_id'));

    $this->hasOne('Mapper', array('local' => 'mapper_id',
                                  'foreign' => 'id'));

    $this->hasMany('Race', array('local' => 'id',
                                 'foreign' => 'map_id'));

    $this->hasMany('PlayerMap', array('local' => 'id',
                                      'foreign' => 'map_id'));
  }
}